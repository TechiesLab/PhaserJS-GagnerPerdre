<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PhaserJS #3</title>
  <link rel="shortcut icon" type="image/png" href="images/ico_full.png"/>
  <link rel="stylesheet" href="stylesheet/prism.css">
  <link rel="stylesheet" href="stylesheet/style.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>

  <!-- Introduction -->
  <div class="banner" style="display: block !important; background-image: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)), url('https://d2skuhm0vrry40.cloudfront.net/2018/articles/2018-08-29-13-52/nintendo-takes-down-11-year-old-pokemon-fangame-kit-1535547168922.jpg/EG11/thumbnail/750x422/format/jpg/quality/60');">
    <div class="container text-center">
      <div class="main">
        <img src="images/logo.png" alt="">
        <div class="class-title text-center">
          <h1>PhaserJS<br> Activity Sheet 3</h1>
        </div>
      </div>
      <p>During this session, we will focus on the creation of video games in the JavaScript. To do this, we will use the <b>Phaser</b> library.</p>
      <a class="btn btn-primary tl-button" href="#challenge" role="button">Start !</a>
    </div>
  </div>
  <p id=language-link>üó®Ô∏è Pour la version francaise, clique <a href="index.html"> ici</a>!</p>

  <div class="container" id="challenge">

    <div class="accordion" id="accordionExample">

      <!-- √âtape 1 -->
      <div class="card">
        <div class="card-header" id="heading1">
          <h2 class="mb-0">
            <button class="btn btn-link done task" type="button" data-toggle="collapse" data-target="#collapse1" aria-expanded="false" aria-controls="collapse1">
              Step 1 - Challenges to be completed before
            </button>
          </h2>
        </div>
        <div id="collapse1" class="collapse show" aria-labelledby="heading1" data-parent="#accordionExample">
          <div class="card-body">
            <p>Before you start this challenge, make sure you have already done these:</p>
            <ul>
              <li><a href="https://techieslab.github.io/PhaserJS-Introduction/">PhaserJS - Personnage</a></li>
              <li><a href="https://techieslab.github.io/PhaserJS-Platforms/">PhaserJS - Plateformes</a></li>
            </ul>
            <p>Secondly, make sure you are highly motivated and eager to learn!</p>
            <p>Also, make sure you are logged into your <a href="https://repl.it">Repl.It</a> account, and that you have your project from last time.</p>
          </div>
        </div>
      </div>

      <!-- √âtape 2 -->
      <div class="card">
        <div class="card-header" id="heading2">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
              Step 2 - Lose
            </button>
          </h2>
        </div>
        <div id="collapse2" class="collapse" aria-labelledby="heading2" data-parent="#accordionExample">
          <div class="card-body">
            <p>When you fall off platforms, you fall forever... That's not the point! So let's make sure we lose when we fall too low!</p>

            <p>To see the X and Y coordinates of the player, we use</p>

            <pre><code class="language-js">
              this.player.x;
              this.player.y;
            </code></pre>

            <p>Try to log the coordinates in the console by writing this code in the <code>update</code> function:</p>

            <pre><code class="language-js">
              console.log(/* X coordinate */);
              console.log(/* Y coordinate */);
            </code></pre>

            <p>Watch the numbers change when you move. You are logging the right coordinates!</p>

            <p>To lose, we check if the Y coordinate is too high, and if it is, we change the Y and X coordinates so that our character moves towards the beginning of the game.</p>

            <pre><code class="language-js">
              if(/* Y coordinate */ > /* Number you'd like */) {
                /* X coordinate */ = /* Starting X */;
                /* Y coordinate */ = /* Starting Y */;
              }
            </code></pre>

            <p>You should now reappear at the beginning of the game when you fall off the map.</p>
          </div>
        </div>
      </div>

      <!-- √âtape 3 -->
      <div class="card">
        <div class="card-header" id="heading3">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
              Step 3 - Victory! ‚úåÔ∏è
            </button>
          </h2>
        </div>
        <div id="collapse3" class="collapse" aria-labelledby="heading3" data-parent="#accordionExample">
          <div class="card-body">
            <p>Let's add a victory object! Draw this lovely object in Pixel Art. You can use <a href="https://www.pixilart.com">pixilart.com</a> again.</p>

            <p>Once drawn, add your new object to your project, as you did with your other drawings.</p>

            <p>Now, load this new sprite (character).</p>

            <pre><code class="language-js">
              this.load.image("coin", "coin.png");
            </code></pre>

            <p>Once your image is loaded into the project, we want it to appear somewhere. Again, easy!p>

            <pre><code class="language-js">
              this.coin = this.physics.add.sprite(500, 160, "coin");
            </code></pre>

            <p>You will of course have to change the X (500) and Y (160) coordinates in your game!</p>

            <p>And now for the <b>hard</b> bit! Hang in there!</p>

            <p>In the <code>update</code> function, we'll check if you hit the victory coin. If you do, we'll stop the game, and display that you won!</p>

            <p>To do something when you touch the coin, we use this code:</p>

            <pre><code class="language-js">
              this.physics.add.overlap(this.player, this.coin, function(player, coin) {
                // What we do when we touch the coin
              }, null, this);
            </code></pre>

            <p>To make sure everything is working properly, <code>console.log</code> the word "Touched". Remember that to <i>log</i> a word, you have to do</p>

            <pre><code class="language-js">
              console.log(/* My word surrounded by quotation marks */);
            </code></pre>

            <p>It works? Great!</p>

            <p>Now we'll make the coin disappear. Otherwise, you'll just keep winning forever, as you keep touching it!</p>

            <pre><code class="language-js">
              coin.destroy();
            </code></pre>

            <p>Try it now: the coin should fade away when touched.</p>

            <p>Now we add the text. To do this, we will first create the text:</p>

            <pre><code class="language-js">
              let victoryText = this.add.text(0, 0, "VICTORY");
            </code></pre>

            <p>We have created the victory text, but we don't display it yet! To display it, you can do</p>

            <pre><code class="language-js">
              Phaser.Display.Align.In.Center(victoryText, this.add.zone(400, 250, 400, 250));
            </code></pre>

            <p>This code looks rather complicated, doesn't it? Let's go through it section by section:</p>

            <ol>
              <li><code>Phaser.Display.Align.In.Center</code> tells the program to display something number 1 in the middle of something number 2</li>
              <li><code>victoryText</code> is the number 1 something, which we want to display on the screen</li>
              <li><code>this.add.zone(400, 250, 400, 250)</code> is something number 2, the zone in which we want to display our text.</li>
            </ol>

            <p>Excellent! But the text is a bit small, isn't it? How can we make it bigger?</p>

            <p>Let's change the variable <code>victoryText</code> to</p>

            <pre><code class="language-js">
              let victoryText = this.add.text(0, 0, "VICTORY", {
                fontSize: "50px",
              });
            </code></pre>

            <p>Likewise, we can also add a color:</p>

            <pre><code class="language-js">
              let victoryText = this.add.text(0, 0, "VICTORY", {
                fontSize: "50px",
                color: "#d53636",
              });
            </code></pre>

            <p>You can of course choose your own font size and color!</p>

            <p>Finally, we'd like to make sure that the game ends when we take the coin! We'll just pause the game, and never "un-pause" it</p>

            <pre><code class="language-js">
              this.physics.pause();
            </code></pre>

          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header" id="heading5">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse5" aria-expanded="false" aria-controls="collapse5">
              Step 4 - A world without limits... or almost üó∫Ô∏è
            </button>
          </h2>
        </div>
        <div id="collapse5" class="collapse" aria-labelledby="heading5" data-parent="#accordionExample">
          <div class="card-body">
            <p>Imagine that you want a world that is longer than your screen, and that you can move through it easily. The world would have to move with your character.</p>

            <p>It's easy to do! In the <code>create</code> function, add</p>

            <pre><code class="language-js">
              this.cameras.main.startFollow(this.player);
            </code></pre>

            <p>This will make the camera follow your character everywhere. You can now create a very, very large world. Having said that, it would be better if the camera only followed our character in the horizontal direction (the x-axis).</p>

            <p>To do this, add this line to the <code>update</code> function:</p>

            <pre><code class="language-js">
              this.cameras.main.setFollowOffset(0, this.player.y-250);
            </code></pre>

            <p>Petit probl√®me: maintenant, lorsque tu gagnes, le texte n'est plus au milieu üòì</p>

            <p>Pour r√©m√©dier √† cela, change le code o√π tu cr√©es le texte en ceci (il faut juste ajouter <code>.setScrollFactor(0)</code>)</p>

            <pre><code class="language-js">
              let victoryText = this.add.text(0, 0, "VICTOIRE", {
                color: "#d53636",
                fontSize: "70px"
              }).setScrollFactor(0);
            </code></pre>

            <p>VOILA! Tu peux maintenant commencer √† construire un monde bien plus long qu'avant. Cr√©e un joli jeu de parcours qu'on peut essayer!</p>
          </div>
        </div>
      </div>

    </div>
  </div>

<div class="footer">
  <div class="footer-links">
    <a href="https://techieslab.be/"><i class="fas fa-globe"></i></i></a>
    <a href="https://www.facebook.com/TechiesLabBrussels"><i class="fab fa-facebook"></i></a>
    <a href="https://www.linkedin.com/company/techies-lab/"><i class="fab fa-linkedin"></i></a>
    <a href="https://twitter.com/TechiesLab"><i class="fab fa-twitter"></i></a>
  </div>
  <div class="footer-copyright">
    <a href="https://techieslab.be" rel="noopener noreferrer" target="_blank" class="alert-link copyright">
      <i class="far fa-copyright"></i> 2021 Techies Lab ASBL. All rights reserved.
    </a>
  </div>
</div>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="javascript/prism.js"></script>
</body>
</html>
